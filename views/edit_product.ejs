<%- include('includes/admin_header'); -%>


        <!-- ============================================================== -->
        <!-- end navbar -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <%- include('includes/left_nav'); -%>
    



  


<div class="conatiner">
    <div class="row">
        <div class="col-lg-6 mx-auto mt-4   ">
           


<div class="conatiner">
    <div class="row">
        <div class="col-lg-6 mx-auto mt-4   ">
           <h1 class="bg-primary text-white">
            Edit Product <%= user.product_name %>
           </h1>

           <form action="/update/<%= user._id %>" name="basic" method="post" id="add-form" onsubmit="return validateBasic()" enctype="multipart/form-data">
            <div class="form-group">
              <label for="name">Product Name:</label>
              <input type="text" class="form-control" id="product_name" value="<%= user.product_name %>" name="product_name">
            </div>
            <div class="form-group">
              <label for="product_price">Product Price</label>
              <input type="number" class="form-control" value="<%= user.product_price %>" id="product_price" name="product_price">
            </div>
            <div class="form-group">
              <label for="product_description">Product Description</label>
              <textarea class="form-control" id="product_description" name="description"><%= user.product_description %></textarea>
            </div>
            
            <div class="form-group dropdown mt-4">
              <button type="button" class="btn btn-light" data-toggle="dropdown">
                Categories
               
                <select name="category">
                  <% category.forEach(function(product) { %>
                    <option value="<%= product.category_name %>" <% if (product.category_name === categoryName) { %>
                      selected
                    <% } %>>
                      <%= product.category_name %>
                    </option>
                  <% }); %>
                </select>
              </button>
            </div>
            <div class="form-group dropdown mt-4">
              <button type="button" class="btn btn-light" data-toggle="dropdown">
                Brand
               
                <select name="brand">
                  <% brand.forEach(function(brand) { %>
                    <option value="<%= brand.brand %>" <% if (brand.brand === brandName) { %>
                      selected
                    <% } %>>
                      <%= brand.brand  %>
                    </option>
                  <% }); %>
                </select>
              </button>
            </div>
  <div class="form-group">
    <label for="product_price">Product Stock</label>
    <input type="number" class="form-control" value="<%= user.product_stock %>" id="product_price" name="stock">
  </div>

            <div class="form-group mt-3">
              <label for="image">Photo file:</label>
              <input type="file"  multiple class="form-control-file" onchange="viewImage(event)" id="image" name="image">
              <% for(var i=0; i<user.image.length; i++) {%>
              <img src="/<%= user.image[i] %>" width="100" class="img-thumbnail mt-3" alt="">
              <% } %>
            </div>
            <button type="submit" class="btn btn-primary d-grid mt-5">Submit</button>
          </form>
          
          <!-- <script>
            function validateBasic() { 
              var name = document.basic.product_name.value;
              var price = document.basic.product_price.value;  
              var category = document.basic.category.value;  
              
              if (name === "" || price === "" || category === "") {
                alert("Please fill all fields.");
                return false;
              }
          
             
              // Validate price
              var priceRegex = /^(\d*([.,](?=\d{3}))?\d+)+((?!\2)[.,]\d\d)?$/;
              if (!priceRegex.test(price)) {       
                alert("Invalid price format.");         
                return false;    
              }     
          
              // Validate name
              var nameRegex = /^[A-Za-z\s]+$/;
              if (!nameRegex.test(name)) {
                alert("Name should only contain letters and spaces.");
                return false;
              }
          
              return true;
            }
          </script> -->
        
          



</body>
</html>